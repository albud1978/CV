# Правила ведения проекта CV

## 1. Документирование изменений

После выполнения **каждой задачи** необходимо:

1. **Обновить CHANGELOG.md**:
   - Добавить запись о выполненной работе в раздел `[Unreleased]`
   - Указать категорию: Добавлено / Изменено / Исправлено / Удалено
   - Кратко описать суть изменений
   - При наличии метрик — добавить в раздел "Результаты"

2. **Коммит в Git**:
   - Атомарные коммиты (одна задача = один коммит)
   - Информативные сообщения коммитов на русском языке
   - Формат: `[тип]: краткое описание`
   - Типы: feat, fix, docs, refactor, test, chore

## 2. Структура кода

- Весь исходный код размещается в папке `src/`
- Модели — в `src/models/`
- Утилиты — в `src/utils/`
- Конфигурации — в `src/configs/`
- Скрипты обучения — в `src/train/`
- Скрипты инференса — в `src/inference/`

## 3. Архитектура и SOTA
- При выборе архитектурных решений ориентироваться на `docs/REFERENCE_ARCHITECTURE.md`.
- Предпочитать модульный подход (Pipeline) монолитному.
- Использовать SOTA компоненты (RF-DETR, SAM 2, Grounding DINO) вместо устаревших решений, где это оправдано.

## 4. Работа с данными

- **Input данные**: только чтение из `input/` (симлинк на Nextcloud)
- **Output данные**: запись результатов в `output/` (симлинк на Nextcloud)
- Данные НЕ коммитятся в Git (исключены в .gitignore)
- Большие модели хранить в Nextcloud, не в репозитории

## 5. Эксперименты

При проведении экспериментов фиксировать:
- Гиперпараметры
- Датасет (версия, размер)
- Метрики (accuracy, precision, recall, F1, mAP и др.)
- Время обучения
- Используемое оборудование

## 6. Код-стайл

- Python: следовать PEP 8
- Docstrings: Google style
- Type hints: обязательны для публичных функций
- Комментарии: на русском языке

## 7. Версионирование

- Семантическое версионирование (SemVer)
- MAJOR.MINOR.PATCH
- При релизе создавать тег в Git

## 8. Чеклист перед коммитом

- [ ] Код работает без ошибок
- [ ] Добавлены/обновлены docstrings
- [ ] CHANGELOG.md обновлён
- [ ] Нет лишних файлов в коммите
- [ ] Сообщение коммита информативно


